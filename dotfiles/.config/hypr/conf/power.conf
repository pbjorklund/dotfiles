##################
### POWER MGMT ###
##################

# Smart lid switch behavior - docking-aware power management
# Behavior:
# - Undocked + lid closed: Lock screen and suspend system
# - Docked + lid closed: Disable laptop display only, keep system running
# - Lid opened: Always re-enable laptop display
# - Wake from sleep: Check lid state, keep laptop display off if lid closed + docked
# - ThinkPad X1 Carbon Gen 11 optimized
bindl = , switch:on:Lid Switch, exec, ~/.config/hypr/scripts/lid-switch.sh close
bindl = , switch:off:Lid Switch, exec, ~/.config/hypr/scripts/lid-switch.sh open


# Monitor hotplug detector to maintain lid state across display changes
exec-once = ~/.config/hypr/scripts/monitor-hotplug.sh

# Idle timeout management
# Lock screen after 30 minutes
# AC power: turn off display but don't suspend
# Battery power: suspend after extended idle
exec-once = ~/.config/hypr/scripts/power-aware-idle.sh
